@model List<CobrArWeb.Data.Product>
@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // Détecter les modifications et mettre à jour le produit
        $("td[contenteditable='true']").on("blur", function () {
            var productId = $(this).parent().data("id");
            var columnName = $(this).data("column");
            var newValue = $(this).text();

            $.ajax({
                url: "/Product/UpdateProduct",
                method: "POST",
                data: {
                    id: productId,
                    column: columnName,
                    value: newValue
                }
            });
        });

        // Ajouter un nouveau produit
        $("#addProduct").on("click", function () {
            $.ajax({
                url: "/Product/AddProduct",
                method: "POST",
                success: function (newProduct) {
                }
            });
        });
    </script>
}

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <h2>Recherche</h2>
            <!-- Ici, ajoutez vos boutons et champs de recherche -->

            <h2>Ajouter un produit</h2>
            <button id="addProduct">Ajouter un produit</button>
        </div>

        <div class="col-md-8">
            <h2>Stock</h2>
            <table class="table">
                <thead>
                    <tr>
                       
                        <th>Produit</th>
                        <th>Catégorie</th>
                        <th>Sous-catégorie</th>
                        <th>Équipe</th>
                        <th>Taille</th>
                        <th>Quantité</th>
                        <th>Prix</th>
                        <th>Fournisseur</th>
                        <th>Modifier</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var product in Model)
                    {
                        <tr>
                           
                            <td >@product.Produit</td>
                            <td>@product.Categorie</td>
                            <td >@product.SousCategorie</td>
                            <td>@product.Equipe</td>
                            <td>@product.Taille</td>
                            <td>@product.Quantite</td>
                            <td>@product.Prix</td>
                            <td>@product.Fournisseur</td>
                            <td>
                                <a asp-controller="Product" asp-action="Edit" asp-route-id="@product.Id">Modifier</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>